<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1303px" preserveAspectRatio="none" style="width:1755px;height:1303px;background:#FFFFFF;" version="1.1" viewBox="0 0 1755 1303" width="1755px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="494" x="623.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="484" x="628.5" y="22.9951">Container diagram for Homes for Ukraine application forms</text><!--MD5=[c26638a81821cf585a88e29a60357529]
cluster s1--><g id="cluster_s1"><rect fill="none" height="1081.5" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="950" x="366" y="44.2969"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="177" x="752.5" y="61.1484">Gov.UK PaaS Space</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="809" y="76.0605">[System]</text></g><!--MD5=[e80b2a2e2b06ce4648c08fd86acf756b]
cluster s3--><g id="cluster_s3"><rect fill="none" height="495.5" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="380" x="912" y="103.2969"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="159" x="1022.5" y="120.1484">Monitoring Space</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="83" x="1060.5" y="135.0605">[Container]</text></g><!--MD5=[08199a91f55f1eee6c032bde60db737c]
cluster s2--><g id="cluster_s2"><rect fill="none" height="155" rx="2.5" ry="2.5" style="stroke:#444444;stroke-width:1.0;stroke-dasharray:7.0,7.0;" width="391" x="1358" y="935.7969"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="196" x="1455.5" y="952.6484">External Observabilty</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="64" x="1521.5" y="967.5605">[System]</text></g><!--MD5=[117512aa0359cf3a6496e3d428eedba6]
entity elb--><g id="elem_elb"><rect fill="#438DD5" height="85.1875" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="215" x="538.5" y="504.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="195" x="548.5" y="529.6484">Elastic Load Balancer</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="64" x="614" y="544.5605">[Gov Paas]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="644" y="560.3857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="575" y="576.6826">Distributes requests</text></g><!--MD5=[ce0274515374b06a2fe4bf91b61058de]
entity s3bucket--><g id="elem_s3bucket"><rect fill="#438DD5" height="133.1875" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="218" x="747" y="696.2969"/><image height="48" width="48" x="832" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAC0ElEQVR4Xu2WQUpcQRCG3936AF7AA3gBD+ABzCqrwV0Ws3DpLquQneDGhYiBgBAGBCEhBhIE4fmlPima9xw6oyEK6eGnra7uqvqrurqfQ9k/e1UY5qqXRSfUQifUQifUQifUQifUQifUwh8R2np7vn3waaLcefd5vvP5aBPaO/oyxm/x8aoEOajc/LpD8+HiO1Mwt3oyGoQIeXL54837FRViREaz+nYLud3Dy6PTr9BCmBs+GQ1CMCCkDBTU8FseXyv834SMenH1U0IIyUMBfvN+fw4eCNEfZE9PpHd6GQ3NCxWUTIFLdDFsKMzfpSIGrgw8IORIeIJZCWQ1TL1KbGaazBDk6rvAZvVMkUFamU9tmLKJMfUdGZh7BETyMnMKCnku/HDtTnsIPZoxusoxHwKcMhUomZpS+mEPetsxN7sKsyGfmYy9jlAWA+/skZCVGMMXkVgq0QAWTD0aRr1phR/ToyoycwP6RwiZQa00UWwwJiTTJGTxx2DMoUsIgT1WRULI2Hp8Y1zMZIC+Jvq7qflj00CFrQANdWarqXjYPol6t6tqQvJAnyHVE9gbyipLycNtVmhKSGzFN8E6k582uWq8sapfup4QUk8J7QwcWlSt8OmSWZXooccJgTHa07bQXb1aoj33oo3k6otAMfzMWRWFXCpx1pp7M0o0mSbKtbcpITlRBuV6dR3Ib65ch0nV59iAkNkbHtmni5wYganbiPaNSgQ01oMR2P5AQYdqpoTkIaFVfL/qVbzbgz50ssGdjvTrtSASjbIb/w64Ko9FvLo+mNriZxmPPoYPD2MdssR5+4pM9MKENCbkIv4JkYqjYfCQF1b9TnwPGJfxAUhCth2yDqc91IS3PR8bD47YJlqiQubNqgekXtsSvD1ls0qB0UPcjJCVc8wrk7ep3lNvc6pQjwqpUdiM0D9AJ9RCJ9RCJ9RCJ9RCJ9RCJ9TCqyN0D7V5SW9hRLGrAAAAAElFTkSuQmCC" y="706.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="91" x="810.5" y="769.1484">S3 Bucket</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="85" x="813.5" y="784.0605">[via gov.paas]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="854" y="799.8857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="761" y="816.1826">Store uploaded documents</text></g><!--MD5=[d40ecb68fd03c4f349b7481a726a4cee]
entity web_app--><g id="elem_web_app"><rect fill="#438DD5" height="168.1094" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="190" x="1110" y="678.7969"/><image height="48" width="48" x="1181" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACOElEQVR4Xu2WO0oEQRCG925zAC/gAbyAB/AAGhmJmYGB4WZGYiaYGIgoCAuyIAiKCoogjN/0z9b2VM/Ysz5YhS5+lulnfVNV3bOjavP8T2mUdi1XBSinApRTAcqpAOVUgHIqQDn9Z6Ctw2na+eP6DGhl+yJu7p/crR9MVnev1Fzbu94Y36SrvqleIGimD2/87hzf8lC37fL2Bb7fiFkvUBVy9PT67lCcHV0+Wsx+RL1Ap5Nn73xmDI3P7kGxOTTTHb6mFhAlQo6UrDZDY6SJmFmamCwOigk4YklP6mBRtYDkspOGiqlCYfXVDYkjYBRcOrSQfMpg8ix1jZuBnsAlYGn/cLWACINnCRVDYCxC+DO5e6EKcUJxv3q01g25ORqdA+HAswSL3zgltnImhHE/kWZ3qkpNNlHsqbYYxW3Iy8+BOo+V9k3Xx9cBaWKONW1IF6meO4EIia2SNUAsi1c6YwgHxiQglqmpOQTJoqvs4LUOvj8H4qKvwzu3UqZLpbOWMdbE3wcBKWz2fnQakNAHAtkqzjWChD2blKWhM3NHJq0hzbGteTfm6OLIAiHmz7ZpjDkNkKvH2JSCPiAc6zLsPBBDgKrZyVX6sAaoL191KFgd+xiIqrLKVUJjIBvqBGKUB2k13KWSgspoAzTbqsPwx0r7JlgNxQSMDi/q2NK4sv9oJfzB6JNLGQ7otKjE0/SgWGraevjzZP2scps713pt/+lYugpQTgUopwKUUwHKqQDlVIByKkA5fQCi9ZWdozYD+gAAAABJRU5ErkJggg==" y="688.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="148" x="1128" y="751.6484">Web Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="88" x="1161" y="770.2734">Instances</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="148" x="1131" y="785.1855">[Rails, Docker container]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1203" y="801.0107"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1124" y="817.3076">Serves the application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1139" y="833.6045">forms 'Front Door'</text></g><!--MD5=[0e1fecc31e3549f2a1667c6349b56d9e]
entity postgres--><g id="elem_postgres"><path d="M1010,961.7969 C1010,951.7969 1105,951.7969 1105,951.7969 C1105,951.7969 1200,951.7969 1200,961.7969 L1200,1100.2813 C1200,1110.2813 1105,1110.2813 1105,1110.2813 C1105,1110.2813 1010,1110.2813 1010,1100.2813 L1010,961.7969 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M1010,961.7969 C1010,971.7969 1105,971.7969 1105,971.7969 C1105,971.7969 1200,971.7969 1200,961.7969 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><image height="48" width="48" x="1081" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAEv0lEQVR4Xs2YPYodRxDHdbc+gC6gA+wFdIA9gBQ5Wpw52EDhZoqMMsEmCoR5AoHALAgMFpLBRiAY/+jfTr2e/ppnmMBF8ejX0131r8/umSfpxfv/FT9pp4Kf/vTb1S8fn7/6BDN49vOHdg3Mo+u731++foAZuJ7x3bs/T5//fvjyPfj+01+3b/9gfSskuA8IcchaMn375wey+PUv8whFJfhQ6TwLmIdjGTO/nr7evPkMRBmZbFQsy3jU6u0AQpMI2NCawgxy0aRipKOpFYprYz0CBcTAeX4RrpZWxQYQ21AjdrehW9PxNv4oURpB/pahcVmgBH34LDyHnxAOI5yZyqQzIBTwGBGMEVpKqQgdpcQRoVjDIvolqYjfZYvpDIhtKGCAlfXuLbm/q6YioBMpFnehqw6vM46KeQSE55nFGiFPCLgjBSPSgK6dhELbHJwB4V41EeN605bM03p2j8CEtV3h+AYn8WgDCIzMmkYTYpmL6wcXEMKNQ0XWIIMNIB/sxgtH7oIekca0sbYjLCUgnLnkWJhfE7IP1bMXE7pbe2xUSwnIRfzigGp1RWmvI8zJNK2yW0dsckhAux6ihlNOICRik6cbg26qlmTLCa7M1kixPgJKOYc8EculFZkEtn/RWwdGfESstOmr1XE81TGdssd60HSrIEhA4RIT3HY8irVbtN44AKgMujiWolk/AvIMmtuq9PI8RwobIytbshcvOdzOqCsWRInp+DMgLwZp2hhHCya9QN+UNlQSUk4gJW8ARSdo+0TQCFC4oSXrIGRWEtzIGuO+ARStaJLXI0CVGyoqj5rKQ94tl+JkPQNy3fz0GCl2vpoMMm3dpcPMIcF53woMG0DRDFqV0ig0o/mgstQFseRroGGputQZUPTvURqNynDu12W9qWlnlL0o9VkfUFrb424NVwSaSeZJcdMSUEAs07kD6JTfKLpalzXq1UlkBpz2LiRxEVNCBDHaTx+Qd/I0jholU3VztszjFeQhoxZDf9N7E9oAiuIfRU0TywCli89/K+Yqv7Tc5Re6Fk0NKK1nSBrXmjH1FNPE0cqWLCh9/JDfLWNveKsGFLXWvYqwHyjeOsrwdxdXhHq3PMuXaOwBn2/Ake8dQClbbJNoTfcOFPOC02e7gUMg6u/zXcqNNnEhLmu/7gAKvFUx+y5s40euFx3/TpqFVPbomLldX2ENn9o7gFI+Ruw6UW6GHzdoU8qpIBplzQHZMnSSblaIdc3TSIA+IM88QRjplO1zYIddVivdMgdkibHxZf5qc5tfA30Ud0W5DyitgWO1kbb18RvGhU2o2Q1Z3AyX9fsOvrchVXqHgFJxW13WLy8RIxR4GOuq6/Vlb0RxiWu1VDwDJJt38RdnCOWUP07gHrHOARn3UTMseR/QLgNrF9Dz/Epjas/5AEA4TAfUKArCx3Ftn/MBgDxD5q9QKTvSVjLnAwB5DpizXTJSp/yBpd1e8QGAyJ6yqluKpx71cz4AEL4xOaJHVHSdPwRcUmLpEEApQ2nPPkmsZE97W+3yMYBu8gfktL1qxsGCh77lD7ftxpaPAeRdxbPPE9QTxmpfLsse+RhAab0HWkog49fjszz+LuHDAKXVH+Wp8p+gyEcCOoT/BX6omUVF2sLHAAAAAElFTkSuQmCC" y="975.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="108" x="1051" y="1038.6484">PostgreSQL</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="79" x="1065.5" y="1053.5605">[PostgreSQL]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1103" y="1069.3857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="1033.5" y="1085.6826">Stores user entered</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1020" y="1101.9795">application information</text></g><!--MD5=[de5dc476b5cd49b5a92d294ad2af7d70]
entity redis--><g id="elem_redis"><path d="M619,961.7969 C619,951.7969 729,951.7969 729,951.7969 C729,951.7969 839,951.7969 839,961.7969 L839,1100.2813 C839,1110.2813 729,1110.2813 729,1110.2813 C729,1110.2813 619,1110.2813 619,1100.2813 L619,961.7969 " fill="#438DD5" style="stroke:#3C7FC0;stroke-width:0.5;"/><path d="M619,961.7969 C619,971.7969 729,971.7969 729,971.7969 C729,971.7969 839,971.7969 839,961.7969 " fill="none" style="stroke:#3C7FC0;stroke-width:0.5;"/><image height="48" width="48" x="705" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAADJElEQVR4Xu2YT2pUQRDG393eAbxADpALeAAPoCtX4s6FC5ezcxXcCbNxIRJBCEggICgqKIIw/mYq6Wnrq67ueRNQxI8ivOnXXf3V336dab7/+q+SSYf+rPy7hE4ev73z8I2OHyrHEnrw/HJ98XVzgy/ff56df7777EJnDspCQqdP3q1efSw8FDB7+vIDbtO1uRxGiKA8enF1+elH2Zjn2kPg/Opb/ZO391bvVVVLRgkRBWJR71Rg2QNR25gHP+MQh3UIoQJFqPM73ACWbpsWbwP+I+10oyJNQpjrYuGAauaQTGo3IzktQAqyVvf1hNDF1MQlLRgtl0AF6Aw9TQrisLpf7AnxQtWhCDcUH7CSZ2aqA3An425QA9RyPArNYRN7wN2/33HPGx3r3ZLiAB6wRENZpJWasJ9a7QTKqshJXf81cjZzu2ZZOIUONCR6cU+y0KDx0jbm0CFkYD3WWFbyl/nq6gJeqUJLRB1XDBFKYFwhavVvbuDZzxvGQkK4oXUaEJTEf11g2xR2+hFYC3GEFphXYGW07UPkfJJoXZTc1z40iNKErgmZtEpxENpUR6Anrj86rE8ekwcjCMPN1teNUd/Nu2JZZnQOO5KViqXytsqsU0OZIT0rCO0xcayxio53O8vrOf7oqPPLWbAsjvZpNmhqQMgQOnY+MI4LlHT6UMs452cF3UgvHl03s4o52yqDcjJv04jjvPt8dg2s9KRaDjJgX/bd8y+sVdsPdSFjxnOdasDkfnet2UTdTAXqSfcnIFrUsGdwm9R6c+hq3LQTJe+r+pFkVMyRv1VZuEHX55b47IFxWsY1zqIrtjM7KPuwQ3btzqGJ0qq4gFCBajGDWi1EERZBnqPbHMo/8NbRzTxssjXCltiNPmxmK/uT3kUzLIowjmHHyuvDtd99Hwo3cAj3YwR/4IARxjXCmPrvoXmgQ4alW0ueKJtGRZsEhExOF/1LqpsoYa3U0iRk0qrPGjiMUK7T+5p1E9Wv0iFUpGt6C2HFJTJKyKSbHDW60QnlMEJF8kqGin5FDcpCQibu5jSeKIkcRajIYn+o3A6hW5T/hHryCwTSa0qYmYUxAAAAAElFTkSuQmCC" y="975.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="49" x="704.5" y="1038.6484">Redis</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="708" y="1053.5605">[Redis]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="727" y="1069.3857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="633.5" y="1085.6826">RoR backing for deferred /</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="629" y="1101.9795">background jobs via Sidekiq</text></g><!--MD5=[4ba2d0a5fb4f6f5e1ed53e68fb64bc34]
entity sidekiq--><g id="elem_sidekiq"><rect fill="#438DD5" height="149.4844" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="178" x="382" y="688.2969"/><image height="48" width="48" x="447" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAELElEQVR4Xs2YwYoUQQyG9936AfYF5gH2BfYB5gHckyfx5sGDx7l5Em+CFw8iKwgLsrAgKI6gCEL7WT+djUl1VU/vrBhC01Odrvz1J5VUz8nw4O1/pSd56Ci6efz+/NnVdveR69mTDxo8ffiOn09ffcr2pscHdPH8evfmM1fh4Mr9i8uv119+jpMAK78oPQ4gXO5//MITjuEGJjT+6OXN5c13w2GCWZ5EeldArNUvHQGNRoBCdDCwSHnLPJV0PSCYeH317RZIEbySN2EQwRK2CB9vQSc/56K2EhCTRp9FjB4vjBAjsPIWgNChJHiedlgHiKmDS4k4YPVKajiQezjjkeU1BgwykmceVgDCWQRShHEtOrgPQu5jpgjmyYdDAeEmeigCZywaBDCk7TYnwFW4ueb5h4MA5RSWsFbQCAc88TNaTMIM0KP7uwKqlpOxrDiwAjj3/FYsWPrJi9nLsBDQHDekLRoGlUBhcHTBkqzf9nM7HGKqJYdMyih9sCTW4IJ2AIVZJLjUvo0PJgnlOwRLomqUtQMozIIbiz3MzSUWIfO8hmBJ1gDy9BgUiEHVwNWn1Aqcrz9iqZ2DJVlTqXWUgQZtUWvpIPMIQMZIQEZlogRUgyXJ7qQtQOO0Obn6nKiueCxkCBlXACnrc7Ak2Z10FhDTjaXQhbqijPYjWUAmUuegw1z2KJ0FpE0ELEXN5lLjvJ27Juoh0visyBpAZAY4SCMFwubivlr3TAgWxOhEwLV6NABx9tgBpG2lfPQxsraVhQVsytneG1TbLZbZYwcQsxgOwqdThx8Mgg3E5MMJvnNBZ53ZYwsQq8SBsa2cGKcd/tfcU6VhPDMhCWViXHHIJ23xEZhXQfIcYCDLdlZhFrKbSbLTFqDz8o3np1A30CnMRlQMvdmchOw+GNBQOwDhXnWFFeu8nG0a4rO78fFaB1StHxfl3K6zc6PVz4nP7rkD9Swg9U4U96gIVxvxUTtULLtVx6taByRVM1I/UocXSSrB2/J1AVx8LIRo2b0SkJQAMQs4BAuqYA4QqChkcFtO1mYmmypKT3ZV+4C66hFLt9O/MKbb0v/VjjbTx2tVjwCoq6czZ7Gq/gtAB2kHkOhduERtyTx+kLYAhT7adcYmapwrFmofkM5Dvn5AmM9KuzdAZLFIDZbhZ1X7gESM6ofu1V81tUq2PkMBJExiVBvNUyuD7MhrH5CavNqWHDcAjaUcn5cvV7ElfENp2GOzi0n7gEysvDYAGQEKsTfwbzW0D2g3fXjYqcpPrUNFA5AOCLvyjdY4uZouAjRMjlXydX/hjkchZEod23GsRI8aLcx0KaChZMO+fInKn0RMGCDZ6JE1LLNfUs9agIaSiRb1TfmisP1sj2zwrPzr6x9JFbXGOdprB9Dd1Xbo2cwfQkHvF5C42Zdvgfy0qvcLaIX+BoPZ424c8N2lAAAAAElFTkSuQmCC" y="698.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="158" x="392" y="761.1484">Sidekiq Instances</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="152" x="395" y="776.0605">[Ruby, Docker container]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="469" y="791.8857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="417" y="808.1826">Asynch workers</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="415.5" y="824.4795">Retry on failure</text></g><!--MD5=[77c2450b637fa182454a0f11dc3d7f55]
entity prom_ex--><g id="elem_prom_ex"><rect fill="#999999" height="71.2188" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="217" x="928.5" y="511.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="197" x="938.5" y="536.6484">Prometheus Exporter</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1035" y="553.417"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="982" y="569.7139">(GDS codebase)</text></g><!--MD5=[7617a468e6fd29cf21357e7d5e04380c]
entity prom--><g id="elem_prom"><rect fill="#999999" height="38.625" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="132" x="931" y="353.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="112" x="941" y="378.6484">Prometheus</text></g><!--MD5=[4819d7e546ed2c2981b8955b82e72e10]
entity pg--><g id="elem_pg"><path d="M1098,359.2969 C1098,349.2969 1162,349.2969 1162,349.2969 C1162,349.2969 1226,349.2969 1226,359.2969 L1226,386.9219 C1226,396.9219 1162,396.9219 1162,396.9219 C1162,396.9219 1098,396.9219 1098,386.9219 L1098,359.2969 " fill="#999999" style="stroke:#8A8A8A;stroke-width:0.5;"/><path d="M1098,359.2969 C1098,369.2969 1162,369.2969 1162,369.2969 C1162,369.2969 1226,369.2969 1226,359.2969 " fill="none" style="stroke:#8A8A8A;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="108" x="1108" y="388.1484">PostgreSQL</text></g><!--MD5=[b8fb08849632f9ff0fdc2d033176a093]
entity influx--><g id="elem_influx"><path d="M1180.5,533.2969 C1180.5,523.2969 1228,523.2969 1228,523.2969 C1228,523.2969 1275.5,523.2969 1275.5,533.2969 L1275.5,560.9219 C1275.5,570.9219 1228,570.9219 1228,570.9219 C1228,570.9219 1180.5,570.9219 1180.5,560.9219 L1180.5,533.2969 " fill="#999999" style="stroke:#8A8A8A;stroke-width:0.5;"/><path d="M1180.5,533.2969 C1180.5,543.2969 1228,543.2969 1228,543.2969 C1228,543.2969 1275.5,543.2969 1275.5,533.2969 " fill="none" style="stroke:#8A8A8A;stroke-width:0.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="75" x="1190.5" y="562.1484">InfluxDB</text></g><!--MD5=[97029dda41c7f1332efacff3a5502fd8]
entity grafana--><g id="elem_grafana"><rect fill="#999999" height="38.625" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="93" x="1081.5" y="154.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="73" x="1091.5" y="179.1484">Grafana</text></g><!--MD5=[c063ccfc51726bd5ab7797e0ee06da57]
entity logit--><g id="elem_logit"><rect fill="#999999" height="71.2188" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="204" x="1529" y="995.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="66" x="1598" y="1020.1484">logit.io</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1629" y="1036.917"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="1543" y="1053.2139">Application logging drain</text></g><!--MD5=[e3897b554a38f43a6bf8500946ad5028]
entity sentry--><g id="elem_sentry"><rect fill="#999999" height="87.5156" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="120" x="1374" y="986.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="83" x="1392.5" y="1011.6484">sentry.io</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1432" y="1028.417"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1388" y="1044.7139">Error capture</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1390" y="1061.0107">Emails team</text></g><!--MD5=[dfbf819d9d69d2045b820354e09e8c32]
entity applicant--><g id="elem_applicant"><rect fill="#08427B" height="135.5156" rx="2.5" ry="2.5" style="stroke:#073B6F;stroke-width:0.5;" width="186" x="79" y="105.7969"/><image height="48" width="48" x="148" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="115.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85" x="129.5" y="178.6484">Applicant</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="170" y="195.417"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="94" y="211.7139">Private &amp; Commercial</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="89" y="228.0107">expressions of interest</text></g><!--MD5=[c30c8b0ac1e55e814bdb5e71bdd18d93]
entity techs--><g id="elem_techs"><rect fill="#686868" height="119.2188" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="214" x="1407" y="703.2969"/><image height="48" width="48" x="1490" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=" y="713.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="103" x="1462.5" y="776.1484">Tech Team</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1512" y="792.917"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="1421" y="809.2139">Development and support</text></g><!--MD5=[380359ee3cb2d00d5c7c4441a5f73eff]
entity cloudflare--><g id="elem_cloudflare"><rect fill="#B3B3B3" height="85.1875" rx="2.5" ry="2.5" style="stroke:#A6A6A6;stroke-width:0.5;" width="145" x="194.5" y="330.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="94" x="220" y="355.6484">Cloudflare</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="111" x="211.5" y="370.5605">[DLUCH Managed]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="265" y="386.3857"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="208.5" y="402.6826">DDoS Protection</text></g><!--MD5=[5a055a6222b7af8727bdc2f9245e88a6]
entity notify--><g id="elem_notify"><rect fill="#999999" height="87.5156" rx="2.5" ry="2.5" style="stroke:#8A8A8A;stroke-width:0.5;" width="210" x="7" y="718.7969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="129" x="47.5" y="743.6484">Gov.UK Notify</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="110" y="760.417"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="21" y="776.7139">Email &amp; SMS messages to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="74.5" y="793.0107">applicants</text></g><!--MD5=[75aa7fe7c9526b1bca987f08e8c898a4]
entity foundry--><g id="elem_foundry"><rect fill="#1168BD" height="71.2188" rx="2.5" ry="2.5" style="stroke:#3C7FC0;stroke-width:0.5;" width="171" x="140.5" y="995.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="151" x="150.5" y="1020.1484">Palantir Foundry</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="224" y="1036.917"> </text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="191.5" y="1053.2139">HTTPS API</text></g><!--MD5=[8ded062406c49cfd4a68a5974ec61992]
link applicant to cloudflare--><g id="link_applicant_cloudflare"><path d="M207.814,249.2529 C219.722,274.0079 232.674,300.9339 243.417,323.2689 " fill="none" id="applicant-cloudflare" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="246.971,330.6579,246.207,322.1481,240.7999,324.7488,246.971,330.6579" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="204.295,241.9369,205.059,250.4467,210.4661,247.846,204.295,241.9369" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34" x="239" y="283.9355">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="232" y="297.9043">[HTTPS]</text></g><!--MD5=[626205b26f3170984385f0deb7ce5b51]
link cloudflare to elb--><g id="link_cloudflare_elb"><path d="M346.912,410.5629 C405.231,437.0299 484.65,473.0719 546.993,501.3649 " fill="none" id="cloudflare-elb" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="554.508,504.7759,548.4628,498.738,545.9833,504.2017,554.508,504.7759" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="339.627,407.2569,345.6716,413.2953,348.1516,407.8318,339.627,407.2569" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34" x="488" y="457.9355">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="481" y="471.9043">[HTTPS]</text></g><!--MD5=[7a33408bc5fd149e1698e47215fe5aa1]
link elb to web_app--><g id="link_elb_web_app"><path d="M761.422,592.3799 C861.664,630.6659 1005.497,685.5999 1101.93,722.4309 " fill="none" id="elb-web_app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1109.66,725.3829,1103.2495,719.7344,1101.1161,725.3423,1109.66,725.3829" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="753.781,589.4619,760.184,595.1189,762.3248,589.5138,753.781,589.4619" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="34" x="917" y="631.9355">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="910" y="645.9043">[HTTPS]</text></g><!--MD5=[966cc7b37e2d44eb477fdf121dff34c5]
link sidekiq to s3bucket--><g id="link_sidekiq_s3bucket"><path d="M560.294,762.7969 C613.439,762.7969 681.485,762.7969 738.901,762.7969 " fill="none" id="sidekiq-to-s3bucket" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="746.929,762.7969,738.929,759.7969,738.929,765.7969,746.929,762.7969" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="146" x="578.5" y="728.9355">Read consent forms</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="69" x="619" y="742.9043">to upload</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="629.5" y="756.873">[HTTPS]</text></g><!--MD5=[f84c54a8362b91f1e9a5f2ba9b099d29]
reverse link s3bucket to web_app--><g id="link_s3bucket_web_app"><path d="M973.673,762.7969 C1017.97,762.7969 1067.76,762.7969 1109.76,762.7969 " fill="none" id="s3bucket-backto-web_app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="965.468,762.7969,973.468,765.7969,973.468,759.7969,965.468,762.7969" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="104" x="983.5" y="728.9355">Store consent</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43" x="1016" y="742.9043">forms</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="1013.5" y="756.873">[HTTPS]</text></g><!--MD5=[543bd7ef62d8419647f7f687b75f78e1]
link web_app to postgres--><g id="link_web_app_postgres"><path d="M1117.85,846.8759 C1111.51,856.3739 1106.03,866.4009 1102,876.7969 C1093.97,897.5369 1091.51,921.0749 1091.84,943.3629 " fill="none" id="web_app-to-postgres" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1092.08,951.5099,1094.8402,943.424,1088.8429,943.6029,1092.08,951.5099" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="49" x="1103" y="895.9355">Stores</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="1103.5" y="909.9043">[HTTPS]</text></g><!--MD5=[ea49176f4764ac80dbaf67c1067712ea]
link web_app to redis--><g id="link_web_app_redis"><path d="M1109.88,798.1079 C1058,818.3129 993.453,845.9309 939,876.7969 C903.038,897.1819 865.912,922.5779 833.065,946.7859 " fill="none" id="web_app-to-redis" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="826.554,951.6099,834.7679,949.2579,831.1961,944.4369,826.554,951.6099" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="144" x="940" y="895.9355">Queues asynch jobs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="988" y="909.9043">[HTTPS]</text></g><!--MD5=[8dd61d818a46db4d36cf0c669b2cf7c0]
link web_app to sentry--><g id="link_web_app_sentry"><path d="M1176.07,846.9239 C1172.32,873.2379 1174.89,900.4719 1193,919.7969 C1202.36,929.7909 1303.33,922.6039 1316,927.7969 C1344.28,939.3839 1370.56,960.5789 1391.1,980.6579 " fill="none" id="web_app-to-sentry" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1397.02,986.5609,1393.4717,978.7885,1389.236,983.0381,1397.02,986.5609" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="102" x="1194" y="895.9355">Record errors</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="1221" y="909.9043">[HTTPS]</text></g><!--MD5=[7d5122ec6aa0ea1a4191af15c59bf428]
link web_app to logit--><g id="link_web_app_logit"><path d="M1276.65,846.9089 C1284.95,856.9029 1293.23,867.0269 1301,876.7969 C1315.83,895.4399 1311.96,908.6309 1333,919.7969 C1368.17,938.4599 1474.97,913.1519 1512,927.7969 C1544.75,940.7509 1574.8,966.6799 1596.52,989.1529 " fill="none" id="web_app-to-logit" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1602.13,995.0829,1598.8011,987.214,1594.4479,991.3432,1602.13,995.0829" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="132" x="1334" y="895.9355">Captures app logs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="1376" y="909.9043">[HTTPS]</text></g><!--MD5=[7bcd9e6e5067fcc5f093e4a669c35837]
link sidekiq to redis--><g id="link_sidekiq_redis"><path d="M548.236,843.4279 C579.527,875.6889 615.688,912.9719 647.408,945.6749 " fill="none" id="sidekiq-redis" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="653.277,951.7259,649.8607,943.8946,645.5537,948.0719,653.277,951.7259" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="542.525,837.5399,545.9413,845.3712,550.2483,841.1938,542.525,837.5399" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="130" x="617" y="888.9355">Processes asynch</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="30" x="669" y="902.9043">jobs</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="660" y="916.873">[HTTPS]</text></g><!--MD5=[be720714ab0b7e5cf064fe2deb41ef3a]
reverse link notify to sidekiq--><g id="link_notify_sidekiq"><path d="M225.321,762.7969 C275.834,762.7969 334.479,762.7969 381.801,762.7969 " fill="none" id="notify-backto-sidekiq" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="217.286,762.7969,225.286,765.7969,225.286,759.7969,217.286,762.7969" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="128" x="235.5" y="742.9355">Inform applicants</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="275.5" y="756.9043">[HTTPS]</text></g><!--MD5=[c7082ca2dc55aeef29454852f557744b]
reverse link applicant to notify--><g id="link_applicant_notify"><path d="M164.326,249.8699 C151.601,374.3699 126.529,619.6529 116.4,718.7509 " fill="none" id="applicant-backto-notify" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="165.146,241.8469,161.3473,249.5,167.3161,250.1107,165.146,241.8469" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="91" x="146" y="464.9355">Email or SMS</text></g><!--MD5=[701c3bdfe712a551d70542f898f52a3f]
link notify to foundry--><!--MD5=[e3631a733a5a64447784a7d54ab2770b]
link sidekiq to foundry--><g id="link_sidekiq_foundry"><path d="M403.079,837.5399 C358.048,886.4309 300.647,948.7519 263.611,988.9619 " fill="none" id="sidekiq-to-foundry" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="257.847,995.2199,265.473,991.3671,261.0593,987.3027,257.847,995.2199" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="119" x="365" y="888.9355">POST completed</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89" x="382" y="902.9043">applications</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="391" y="916.873">[HTTPS API]</text></g><!--MD5=[119b57bfc1949caa092a48c3e2f32748]
link prom_ex to web_app--><g id="link_prom_ex_web_app"><path d="M1064.37,583.0749 C1083.38,607.2329 1109.63,640.5969 1134.31,671.9619 " fill="none" id="prom_ex-to-web_app" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1139.55,678.6209,1136.9597,670.479,1132.2448,674.1898,1139.55,678.6209" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="93" x="1117" y="638.9355">Pulls metrics</text></g><!--MD5=[07fa1d510c70c0bbe8418dc7fd847bf0]
link prom to prom_ex--><g id="link_prom_prom_ex"><path d="M995.4,393.1649 C994.204,413.6249 993.829,447.0719 1001,474.7969 C1003.554,484.6709 1007.6,494.7589 1012.08,504.1269 " fill="none" id="prom-to-prom_ex" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1015.74,511.4679,1014.8537,502.97,1009.4846,505.6481,1015.74,511.4679" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="93" x="1002" y="464.9355">Pulls metrics</text></g><!--MD5=[31f16b656171c4c0db0d964750363a98]
link prom to influx--><g id="link_prom_influx"><path d="M1024.85,392.9809 C1045.76,407.1589 1074.96,427.3019 1100,445.7969 C1132.16,469.5519 1167.88,497.7529 1193.39,518.2259 " fill="none" id="prom-to-influx" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1199.65,523.2569,1195.2964,515.9053,1191.536,520.5806,1199.65,523.2569" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="125" x="1137" y="464.9355">Metrics stored in</text></g><!--MD5=[0632b0ac6454ad87e7564d02266461b2]
link grafana to prom--><g id="link_grafana_prom"><path d="M1103.71,193.5359 C1081.93,211.4939 1050.48,240.4389 1031,271.7969 C1016.67,294.8649 1007.57,324.6949 1002.428,345.8479 " fill="none" id="grafana-to-prom" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1000.586,353.7769,1005.3184,346.6632,999.4741,345.3055,1000.586,353.7769" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="100" x="1032" y="283.9355">Consumes for</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51" x="1058.5" y="297.9043">display</text></g><!--MD5=[79b093e05d8f94ad8236f123d48f051c]
link grafana to pg--><g id="link_grafana_pg"><path d="M1131.2,193.3769 C1137.03,227.2459 1149.44,299.3569 1156.6,340.9509 " fill="none" id="grafana-to-pg" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1158,349.0899,1159.5997,340.697,1153.6866,341.7146,1158,349.0899" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="146" x="1151" y="290.9355">Configuration Store</text></g><!--MD5=[22ef9223500a3f90ab1e2e1ee15943dc]
link grafana to techs--><g id="link_grafana_techs"><path d="M1182.46,193.3389 C1221.31,208.9719 1272.42,234.7709 1306,271.7969 C1419.49,396.9339 1476.96,593.2029 1500.54,695.2129 " fill="none" id="grafana-techs" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1502.39,703.2899,1503.5364,694.8231,1497.6866,696.157,1502.39,703.2899" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1174.86,190.3479,1181.2064,196.0683,1183.4029,190.4848,1174.86,190.3479" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="123" x="1429" y="457.9355">View metrics and</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="44" x="1470.5" y="471.9043">alerts</text></g><!--MD5=[cb1872d793b335b688967c92c8d07315]
link techs to sentry--><g id="link_techs_sentry"><path d="M1500.99,822.3789 C1494.04,851.8269 1484.89,887.9349 1475,919.7969 C1468.95,939.2989 1461.35,960.3839 1454.35,978.8259 " fill="none" id="techs-to-sentry" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1451.39,986.5559,1457.0517,980.157,1451.4482,978.0121,1451.39,986.5559" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="84" x="1489" y="902.9355">View errors</text></g><!--MD5=[4b558e6370130b7a96b3054caa6a139d]
link techs to logit--><g id="link_techs_logit"><path d="M1552.84,822.5049 C1563.16,839.5779 1573.72,858.5519 1582,876.7969 C1598.34,912.8219 1611.61,955.8899 1620.2,987.1409 " fill="none" id="techs-to-logit" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="1622.39,995.2219,1623.1907,986.7155,1617.4,988.2865,1622.39,995.2219" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="67" x="1599" y="902.9355">View logs</text></g><rect fill="none" height="128.0781" id="_legend" rx="7.5" ry="7.5" style="stroke:none;stroke-width:1.0;" width="151" x="1578" y="1142.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="57" x="1583" y="1162.792">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1640" y="1162.792"> </text><rect fill="#08427B" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1166.0938"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1587" y="1179.0889">person</text><rect fill="#1168BD" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1182.3906"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="1587" y="1195.3857">system</text><rect fill="#438DD5" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1198.6875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1587" y="1211.6826">container</text><rect fill="#686868" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1214.9844"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1587" y="1227.9795">external person</text><rect fill="#999999" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1231.2813"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1587" y="1244.2764">external system</text><rect fill="#B3B3B3" height="16.2969" style="stroke:none;stroke-width:1.0;" width="141" x="1583" y="1247.5781"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1587" y="1260.5732">external container</text><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1149.7969" y2="1149.7969"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1166.0938" y2="1166.0938"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1182.3906" y2="1182.3906"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1198.6875" y2="1198.6875"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1214.9844" y2="1214.9844"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1231.2813" y2="1231.2813"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1247.5781" y2="1247.5781"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1724" y1="1263.875" y2="1263.875"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1583" x2="1583" y1="1149.7969" y2="1263.875"/><line style="stroke:#FFFFFF;stroke-width:1.0;" x1="1724" x2="1724" y1="1149.7969" y2="1263.875"/><rect fill="none" height="11.6406" style="stroke:none;stroke-width:1.0;" width="122" x="809.5" y="1283.875"/><a href="https://c4model.com/#CoreDiagrams" target="_top" title="https://c4model.com/#CoreDiagrams" xlink:actuate="onRequest" xlink:href="https://c4model.com/#CoreDiagrams" xlink:show="new" xlink:title="https://c4model.com/#CoreDiagrams" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="10" lengthAdjust="spacing" text-decoration="underline" textLength="122" x="809.5" y="1293.1572">C4 Container Diagram</text></a><!--MD5=[0ff5b1fef3af7ceb745ce058954a2755]
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/v2.4.0/C4_Container.puml
'!include <c4/C4_Container.puml>  

'ref http://plantuml.com/stdlib
!include <office/Users/user.puml>

!define ICONURL https://raw.githubusercontent.com/tupadr3/plantuml-icon-font-sprites/v2.4.0
!includeurl ICONURL/common.puml
!includeurl ICONURL/devicons2/postgresql.puml
!includeurl ICONURL/devicons2/redis.puml
!includeurl ICONURL/devicons2/rails_wordmark.puml
!includeurl ICONURL/devicons2/ruby_wordmark.puml
!includeurl ICONURL/devicons2/amazonwebservices_wordmark.puml



LAYOUT_WITH_LEGEND()

title Container diagram for Homes for Ukraine application forms

Person(applicant, Applicant, "Private & Commercial expressions of interest")
Person_Ext(techs, Tech Team, "Development and support")
Container_Ext(cloudflare, "Cloudflare", "DLUCH Managed", "DDoS Protection")

System_Boundary(s1, "Gov.UK PaaS Space") {
    Container(elb, "Elastic Load Balancer", "Gov Paas", "Distributes requests")
    Container(s3bucket, "S3 Bucket", "via gov.paas", "Store uploaded documents", $sprite="amazonwebservices_wordmark")
    Container(web_app, "Web Application Instances", "Rails, Docker container", "Serves the application forms 'Front Door'", $sprite="rails_wordmark")
    ContainerDb(postgres, "PostgreSQL", "PostgreSQL", "Stores user entered application information", $sprite="postgresql")
    ContainerDb(redis, "Redis", "Redis", "RoR backing for deferred / background jobs via Sidekiq", $sprite="redis")
    Container(sidekiq, "Sidekiq Instances", "Ruby, Docker container", "Asynch workers\nRetry on failure", $sprite="ruby_wordmark")
    
    Container_Boundary(s3, "Monitoring Space") {
      System_Ext(prom_ex, "Prometheus Exporter", "(GDS codebase)")
      System_Ext(prom, "Prometheus")
      SystemDb_Ext(pg, "PostgreSQL")
      SystemDb_Ext(influx, "InfluxDB")
      System_Ext(grafana, "Grafana")
    }
}

System_Ext(notify, "Gov.UK Notify", "Email & SMS messages to applicants")
System(foundry, "Palantir Foundry", "HTTPS API")

System_Boundary(s2, "External Observabilty") {
  System_Ext(logit, "logit.io", "Application logging drain")
  System_Ext(sentry, "sentry.io", "Error capture\nEmails team")
}

BiRel(applicant, cloudflare, "Uses", "HTTPS")
BiRel(cloudflare, elb, "Uses", "HTTPS")
BiRel(elb, web_app, "Uses", "HTTPS")

Rel_R(sidekiq, s3bucket, "Read consent forms to upload", "HTTPS")
Rel_L(web_app, s3bucket, "Store consent forms", "HTTPS")

Rel(web_app, postgres, "Stores", "HTTPS")
Rel(web_app, redis, "Queues asynch jobs", "HTTPS")
Rel(web_app, sentry, "Record errors", "HTTPS")
Rel(web_app, logit, "Captures app logs", "HTTPS")

BiRel(sidekiq, redis, "Processes asynch jobs", "HTTPS")
Rel_L(sidekiq, notify, "Inform applicants", "HTTPS")
Rel_U(notify, applicant , "Email or SMS")

Lay_D(notify, foundry)
Rel(sidekiq, foundry, "POST completed applications", "HTTPS API")

Rel(prom_ex, web_app, "Pulls metrics")
Rel(prom, prom_ex, "Pulls metrics")
Rel(prom, influx, "Metrics stored in")
Rel(grafana, prom, "Consumes for display")
Rel(grafana, pg, "Configuration Store")

BiRel_U(techs, grafana, "View metrics and alerts")
Rel(techs, sentry, "View errors")
Rel(techs, logit, "View logs")

center footer  [[https://c4model.com/#CoreDiagrams C4 Container Diagram]]
@enduml

@startuml
















skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam shadowing<<legendArea>> false
skinparam rectangle<<legendArea>> {
    backgroundcolor #00000000
    bordercolor #00000000
}

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam queue {
    StereotypeFontSize 12
    shadowing false
}

skinparam arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam actor {
    StereotypeFontSize 12
    shadowing false
    style awesome
}

skinparam person {
    StereotypeFontSize 12
    shadowing false
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 6
    StereotypeFontColor transparent
    BorderStyle dashed
}

skinparam package {
    StereotypeFontSize 6
    StereotypeFontColor transparent
    FontStyle plain
    BackgroundColor transparent
}
















































































skinparam rectangle<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<boundary>>StereotypeFontColor transparent
skinparam rectangle<<boundary>>StereotypeFontColor transparent


skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent



skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent



skinparam rectangle<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<container_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<container_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<container_boundary>>StereotypeFontColor transparent
skinparam rectangle<<container_boundary>>StereotypeFontColor transparent
































skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam database<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam queue<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam actor<<person>> {
    StereotypeFontColor #08427B
    FontColor #08427B
    BackgroundColor #08427B
    BorderColor #073B6F
}
skinparam person<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}


skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam database<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam queue<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam actor<<external_person>> {
    StereotypeFontColor #686868
    FontColor #686868
    BackgroundColor #686868
    BorderColor #8A8A8A
}
skinparam person<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}


skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam queue<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam actor<<system>> {
    StereotypeFontColor #1168BD
    FontColor #1168BD
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}
skinparam person<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}


skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam queue<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam actor<<external_system>> {
    StereotypeFontColor #999999
    FontColor #999999
    BackgroundColor #999999
    BorderColor #8A8A8A
}
skinparam person<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}



skinparam rectangle<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<enterprise_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<enterprise_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<enterprise_boundary>>StereotypeFontColor transparent
skinparam rectangle<<enterprise_boundary>>StereotypeFontColor transparent



skinparam rectangle<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam database<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam queue<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam actor<<system_boundary>> {
    FontColor transparent
    BackgroundColor transparent
    BorderColor #444444
}
skinparam person<<system_boundary>> {
    FontColor #444444
    BackgroundColor transparent
    BorderColor #444444
}
skinparam package<<system_boundary>>StereotypeFontColor transparent
skinparam rectangle<<system_boundary>>StereotypeFontColor transparent







sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

sprite $person2 [48x48/16] {
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000002578888300000000005888864100000000000
0000000007DFFFFFFFFD9643347BFFFFFFFFFB4000000000
00000004EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB10000000
0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
00003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
0000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF50000
0003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD0000
0009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8000
000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6000
0009FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFF2000
0003FFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFFD0000
0000BFFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFF50000
00003FFFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFFB00000
000006FFFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFFE100000
0000007FFFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFFD2000000
00000004EFFF8FFFFFFFFFFFFFFFFFFFFFF8FFFB10000000
0000000007DF8FFFFFFFFFFFFFFFFFFFFFF8FB4000000000
000000000002578888888888888888888864100000000000
}


























skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam queue<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam actor<<container>> {
    StereotypeFontColor #438DD5
    FontColor #438DD5
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}
skinparam person<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}


skinparam rectangle<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam database<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam queue<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam actor<<external_container>> {
    StereotypeFontColor #B3B3B3
    FontColor #B3B3B3
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}
skinparam person<<external_container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #B3B3B3
    BorderColor #A6A6A6
}

















sprite $user [44x48/16] {
00000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000
000000000000000000048AA851000000000000000000
0000000000000000059AAAAAAA710000000000000000
00000000000000008AAAAAAAAAAA2000000000000000
0000000000000008AAAAAAAAAAAA9100000000000000
000000000000006AAAAAAAAAAAAAA900000000000000
00000000000001AAAAAAAAAAAAAAAA50000000000000
00000000000007AAAAAAAAAAAAAAAA80000000000000
0000000000001AAAAAAAAAAAAAAAAAA2000000000000
0000000000003AAAAAAAAAAAAAAAAAA5000000000000
0000000000005AAAAAAAAAAAAAAAAAA8000000000000
0000000000006AAAAAAAAAAAAAAAAAAA000000000000
0000000000006AAAAAAAAAAAAAAAAAAA000000000000
0000000000005AAAAAAAAAAAAAAAAAA9000000000000
0000000000004AAAAAAAAAAAAAAAAAA6000000000000
0000000000001AAAAAAAAAAAAAAAAAA2000000000000
00000000000008AAAAAAAAAAAAAAAA90000000000000
00000000000002AAAAAAAAAAAAAAAA60000000000000
000000000000007AAAAAAAAAAAAAAA10000000000000
0000000000000019AAAAAAAAAAAAA300000000000000
00000000000000019AAAAAAAAAAA3000000000000000
000000000000000017AAAAAAAA830000000000000000
00000000000000000017AAAA83000000000000000000
00000000000021000000011000000001000000000000
000000000029AA30000000000000007AA40000000000
0000000026AAAAA610000000000038AAAA8300000000
00000005AAAAAAAAA40000000028AAAAAAAA70000000
0000007AAAAAAAAAAAA8666679AAAAAAAAAAA9200000
000006AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA900000
000019AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA50000
00004AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA80000
00008AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1000
0000AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3000
0002AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6000
0004AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8000
0006AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA000
0007AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA100
0008AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA300
0009AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA400
0009AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA600
000AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA700
001AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA800
002AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA800
004AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA900
005AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA900
00000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000
}




hide stereotype
sprite $postgresql [48x48/16] {
000000000000000000000000000000000000000000000000
0000000001344320000000356654469CDDDDB83000000000
00000006CFFEDEFFC8429EFDCCEFFDA755568CFE70000000
000004ED730000036AEFC5000000100345541017ED300000
00005F7017ACCB973002039CDDB95006EFFFFD811AF50000
0002F609FFFFFFFFFE11AFFFFFFFFF801CFFFFFF606F5000
000CA0BFFFFFFFFFF50CFFFFFFFFFFFE40AFFFFFFA07F200
003F16FFFFFFFFFFB0AFFFFFFFFFFFFFF50BFFFFFF90C900
008B0DFFFFFFFFFF34FFFFFFFFFFFFFFFF51DFFFFFF27D00
00C72FFFFFFFFFFC0CFFFFFFFFFFFFFFFFF23FFFFFF55F00
00F56FFFFFFFFFF82FFFFFFFFFFFFFFFFFFC0AFFFFF54F00
01F37FFFFFFFFFF36FFFFFFFFFFFFFFFFFFF52FFFFF45F00
02F28FFFFFFFFFF09FFFFFFFFFFFFFFFFFFFB0BFFFF37D00
02F37FFFFFFFFFE0CB5325DFFFFFFFFFF600008FFFF09B00
00F46FFFFFFFFFC01037721FFFFFFFFF3179B17FFFD0C900
00E63FFFFFFFFFC05DF82808FFFFFFFC0B02F19FFF90F500
00B91FFFFFFFFFC0EFFD5B45FFFFFFFA0FEFF0BFFF54F100
008C0DFFFFFFFFC0DFFFFF82FFFFFFFB0EFFD0DFFF09C000
004F0AFFFFFFFFC0DFFFFFA0FFFFFFFE0AFFC0DFFA0E8000
001F36FFFFFFFFC0DFFFFFB0EFFFFFFF34FFD0DFF44F2000
000D72FFFFFFFFB0EFFFFFB0FFFFFFFF90EFE0BFD0AC0000
0009B0EFFFFFFFA0FFFFFFA0FFFFFFFFF17FF0AF71F60000
0005F0AFFFFFFF91FFFFFF72FFFFFFFFF80EF19F17E00000
0000F45FFFFFFFA0FFFFFF26FFFFFFFFFF16F1980E800000
0000C80FFFFFFFD0BFFFFC0CFFFFFFFFFF90C0B17F100000
00006E0AFFFFFFF33FFFF62FFFFFFFFFFFF21061F7000000
00001F35FFFFFFFC06FFF09FFFFFFFFFFFFB0309E0000000
00000B90EFFFFFFF802870EFFFFFFFFFFFFF603FDCEFF700
000005F07FFFFFFE22510007FFFFFFFFFFFC102786426F10
000000E71EFFFFF32EFF22809FFFFFFFFFF14B5223402F20
0000006F16FFFF41DFB31DF45FFFFFFFFFE0BFFFE811DC00
0000000DA0AFF6094003DFC05FFFFFFFFFD01432006ED100
00000004F60640B407EFE8005FFFFFFFFFB07668BFF90000
000000006F934CFC200100745FFFFFFFFF90FFEDA6100000
0000000005DFFC5DFC99BEF55FFFFFFFFF82F00000000000
000000000001100049BCA7C55FFFFFFFFF64E00000000000
0000000000000000000000A55FFFFFFFFF46D00000000000
0000000000000000000000964FFFFFFFFF18C00000000000
0000000000000000000000873FFFFFFFFF0AA00000000000
0000000000000000000000782FFFFFFFFD0C700000000000
0000000000000000000000590FFFFFFFF90F300000000000
00000000000000000000002C0DFFFFFFF53E000000000000
00000000000000000000000D16FFFFFFC0A8000000000000
000000000000000000000007A0AFFFE805E1000000000000
000000000000000000000001E60142018F30000000000000
0000000000000000000000003FC767BFC200000000000000
000000000000000000000000018BCA720000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV2 POSTGRESQL>> White
sprite $redis [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000210000000000000000000000
0000000000000000000006BFFFEA40000000000000000000
00000000000000000039FFFFFFFFFE820000000000000000
00000000000000017DFFFDBFFFFCFFFFB500000000000000
00000000000004AFFFFFFF217507FFFFFFE8200000000000
000000000028EFFFFFFFFA20000AFFFFFFFFFC6000000000
000000005BFFFFFFFFFC532000002AFFFFFFFFFF93000000
0000029EFFFFFFFFFFFFFFFF20CFFFFFFF98EFFFFFD61000
0006CFFFFF95200126AFFFFFB6FFFFFC600005BFFFFFFA30
18FFFFFFD10000000003FFFFFEFFE920000000028EFFFFF6
9FFFFFFFA00000000000DFFFFFFF920000000004AFFFFFF9
BFFFFFFFF9200000003BFFFFFFFFFFC6000017DFFFFFFFF9
BFFFFFFFFFFDA989BEFFFFFFFFEBFFFFF95BFFFFFFFFFFF9
BFFFFFFFFFFFFFFFFFFFDA853005FFFFFFFFFFFFFFFFFFF9
BFFFFFFFFFFFFFFFFE500000001EFFFFFFFFFFFFFFFFFFF8
7FFFFFFFFFFFFFFFFFFD600000BFFFFFFFFFFFFFFFFFFFA0
04DFFFFFFFFFFFFFFFFFFF9206FFFFFFFFFFFFFFFFFFA300
0004AFFFFFFFFFFFFFFFFFFFCFFFFFFFFFFFFFFFFF820000
0000018EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD60000016
960000005CFFFFFFFFFFFFFFFFFFFFFFFFFFFC50000017F9
9FD71000003AFFFFFFFFFFFFFFFFFFFFFFF930000029FFF9
9FFFFA30000017EFFFFFFFFFFFFFFFFFE81000003AFFFFF9
9FFFFFFC50000005CFFFFFFFFFFFFFC50000005CFFFFFFF8
7FFFFFFFFE810000029FFFFFFFFFB40000017EFFFFFFFFB1
05EFFFFFFFFFA30000007DFFFF920000029FFFFFFFFFB400
0005BFFFFFFFFFD60000002430000004BFFFFFFFFF920000
2000029FFFFFFFFFF8200000000006DFFFFFFFFE71000047
9A2000006DFFFFFFFFFB40000018EFFFFFFFFC6000004BF9
9FFB4000004BFFFFFFFFFE867AFFFFFFFFFA4000006DFFF9
9FFFFD71000018EFFFFFFFFFFFFFFFFFF92000017EFFFFF9
9FFFFFFF92000006CFFFFFFFFFFFFFD60000029FFFFFFFF7
5FFFFFFFFFB5000003AFFFFFFFFFC5000004BFFFFFFFFF70
02AFFFFFFFFFE71000018EFFFFA3000006DFFFFFFFFE8100
00018EFFFFFFFFFA3000003541000018EFFFFFFFFD600000
0000005BFFFFFFFFFC600000000029FFFFFFFFFB40000000
0000000039FFFFFFFFFE8200004BFFFFFFFFF92000000000
000000000017EFFFFFFFFFCABEFFFFFFFFD7000000000000
00000000000004BFFFFFFFFFFFFFFFFFC500000000000000
00000000000000029FFFFFFFFFFFFF920000000000000000
0000000000000000006DFFFFFFFF91000000000000000000
000000000000000000004AFFFD7000000000000000000000
000000000000000000000001000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV2 REDIS>> White
sprite $rails_wordmark [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000006000000000000000000000000000000000
000000000100008420035000000000000000000000000000
000000001D17DFFFFFC86000000000000000000000000000
0000000006EFFFFFFFFFFA20000000000000000000000000
00000000BFFFFFFFFB9ABFF9000000000000000000000000
0000411DFFFFFFC66004903AE40000000000000000000000
0000C6DFFFFFF801600000002B7000000000000000000000
00000CFFFFFF770000000000006300000000000000000000
00008FFFFFFB180133331000002210002201210000002221
0003FFFFFFF30008FFFFF9007FFFFC14FF3CFA00008FFFFB
000BFFFFFFC10008FFEFFF61FFFEFF84FF3CFA0002FFFFFB
884FFFFFFF8E1008FB00FF93FF20AFA4FF3CFA0005FC2221
B9CFFFFFFF550008FC12FF83FF10AFA4FF3CFA0003FFDDB2
02FFFFFFFF300008FFFFFF33FF98DFA4FF3CFA00009FFFFC
07FFFFFFFF200008FFFFD403FFFFFFA4FF3CFA00000135FF
0CFFFFFFFF6B1008FEEFF503FFFEFFA4FF3CFECCC2BBBDFE
0FFFFFFFFF5C4008FC3FFF43FF20AFA4FF3CFFFFF3FFFFF8
177777777720000475037772771047427715777771777740
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV2 RAILS_WORDMARK>> White
sprite $ruby_wordmark [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000002454300148000000000
0000000000000000000000000006963036ADFFF400000000
000000000000000000000006EFA21007CFFFFFFA00000000
0000000000000000000004DFFFF1DFC84148DFFF00000000
00000000000000000002BFFFFF85FFFFFFB7326B40000000
0000000000000000006FFFFFFF1DFFFFFDA8622010000000
000000000000000008FFFFFFF73B9642257ADFB270000000
00000000000000009FFFFFFF91057ADFFFFFFE1B70000000
000000000000000AFFFFFFF82D3EFFFFFFFFF56F60000000
00000000000000BFFFFFFF72EF97FFFFFFFFB1FF60000000
0000000000000CFFFFFFF53EFFF2FFFFFFFE1BFF50000000
000000000000BFFFFFFF44FFFFF7AFFFFFF56FFF40000000
000000000006FFFFFFF35FFFFFFD4FFFFFB1FFFF30000000
00000000001FFFFFFD27FFFFFFFF4DFFFE1BFFFF20000000
0000000000BFFFFD5006CFFFFFFFA6FFF56FFFFF20000000
0000000001FFFD50776A416BFFFFF2FFB1FFFFFF10000000
00000000043C606EF5BFFFA516BFF89E1BFFFFFF00000000
000000000F505DFFF1FFFFFFFB5158356FFFFFFF00000000
000000003F92FFFFD2FFFFFFFFFFB601FFFFFFFE00000000
000000007F33CFFF96FFFFFFFFFFD333FFFFFFFE00000000
00000000AC4B5FFF5AFFFFFFFFF818F88FFFFFFD00000000
00000000D5BF2FFF2EFFFFFFFC24EFFF3EFFFFFC00000000
00000000E2FF79FE2FFFFFFF719FFFFFC5FFFFFB00000000
0000000478FFD3FA5FFFFFB15EFFFFFFF5BFFFFA00000000
000000061EFFF3C69FFFE61AFFFFFFFFFE3FFFF900000000
000000045FFFFA62DFFA16FFFFFFFFFFFF88FFF900000000
00000000CFFFFF11FE42CFFFFFFFFFFFFFF3EFF800000000
00000003FFFFFF64917FFFFFFFFFFFFFFFFC5FF700000000
00000006AA9988502DFFFFFFFFFFFFFFFFFF5BF600000000
0000000003556766433579BDFFFFFFFFFFFFE3F600000000
00000000000134678ABBA97533468ADFFFFFF88500000000
000000000000000000000013466654333358AC2200000000
000000000000000000000000000000000100000000000000
000000000000000000000000000000000000000000000000
000000000022100000000000099000000000000000000000
0000000002FFFF90000000000ED000000000000000000000
0000000002FB5BF6012000200ED031012000120000000000
0000000002F903F909F207F40EEDFF43F900EE0000000000
0000000002FC6CF409F207F40EF54FD0DF04F80000000000
0000000002FFFF6009F207F40EE00BF07F49F20000000000
0000000002F92FA009F208F40EE00BF01F9EC00000000000
0000000002F908F508F62DF40EF53FD00AEF600000000000
0000000002F900DE13FFFBF40EDEFF5003FF100000000000
0000000000420024101420410321420001FA000000000000
000000000000000000000000000000006CF3000000000000
00000000000000000000000000000001FE60000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV2 RUBY_WORDMARK>> White
sprite $amazonwebservices_wordmark [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000120000030000000000000000000000000000
000000000005FF7013EFA110000000000000000000000000
0000000000AB626BAD749F40000000000000000000000000
0000000000BFD7FDBFF8FF40000000000000000000000000
0000000000BFD7FDBFF8FF40000000000000000000000000
00000000008FC7FC8FF8FB20000000000000000000000000
006D92005DE7255001842000000000000000000000000000
3969678C8767C10375005251260016610355500550042530
4FF7EFBEFF8FF14FBF81FDFDEFA0DDDE07CFF1AEDB0DDFF2
5FF8FFBEFF8FF1251CB1F66F2AC0626F202F81F54F3DB2F5
5FF8FFAEFF8FE02DCEB1F55F19C09ECF20CD03F42F5D81F5
05C8A4457D5400AD0CC1F55F09C3F45F27F932F53F3D81F5
000136FE5300009FAEF2F55F09C2FBDF6CEEF3BDCC0D81F5
0000FD66DF00000751307247045047240200140670063072
0000FFDAFF00000000000080000000000000030000000000
0000FFDAFF00005080569299408A27947A70771991980990
0000AFDAD7000043D359289080A41B499071786128584A30
00000262000000098A3B748080286A4480393871284523B2
000000000000000C1C0956A580A85977800C0829A39A3A91
000000000000000202014024000200201001010100110110
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


skinparam folderBackgroundColor<<DEV2 AMAZONWEBSERVICES_WORDMARK>> White



hide stereotype
legend right
|<color:#000000>**Legend**</color> |
|<#08427B> person |
|<#1168BD> system |
|<#438DD5> container |
|<#686868> external person |
|<#999999> external system |
|<#B3B3B3> external container |
endlegend

title Container diagram for Homes for Ukraine application forms

rectangle "<$person>\n==Applicant\n\n Private & Commercial expressions of interest" <<person>> as applicant 
rectangle "<$person>\n==Tech Team\n\n Development and support" <<external_person>> as techs 
rectangle "==Cloudflare\n//<size:12>[DLUCH Managed]</size>//\n\n DDoS Protection" <<external_container>> as cloudflare 

  rectangle "==Gov.UK PaaS Space\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as s1  {
    rectangle "==Elastic Load Balancer\n//<size:12>[Gov Paas]</size>//\n\n Distributes requests" <<container>> as elb 
    rectangle "<$amazonwebservices_wordmark>\n==S3 Bucket\n//<size:12>[via gov.paas]</size>//\n\n Store uploaded documents" <<container>> as s3bucket 
    rectangle "<$rails_wordmark>\n==Web Application Instances\n//<size:12>[Rails, Docker container]</size>//\n\n Serves the application forms 'Front Door'" <<container>> as web_app 
    database "<$postgresql>\n==PostgreSQL\n//<size:12>[PostgreSQL]</size>//\n\n Stores user entered application information" <<container>> as postgres 
    database "<$redis>\n==Redis\n//<size:12>[Redis]</size>//\n\n RoR backing for deferred / background jobs via Sidekiq" <<container>> as redis 
    rectangle "<$ruby_wordmark>\n==Sidekiq Instances\n//<size:12>[Ruby, Docker container]</size>//\n\n Asynch workers\nRetry on failure" <<container>> as sidekiq 
    
rectangle "==Monitoring Space\n<size:12>[Container]</size>" <<boundary>> as s3  {
      rectangle "==Prometheus Exporter\n\n (GDS codebase)" <<external_system>> as prom_ex 
      rectangle "==Prometheus" <<external_system>> as prom 
      database "==PostgreSQL" <<external_system>> as pg 
      database "==InfluxDB" <<external_system>> as influx 
      rectangle "==Grafana" <<external_system>> as grafana 
    }
}

rectangle "==Gov.UK Notify\n\n Email & SMS messages to applicants" <<external_system>> as notify 
rectangle "==Palantir Foundry\n\n HTTPS API" <<system>> as foundry 

  rectangle "==External Observabilty\n<size:12>[System]</size>" <<system_boundary>><<boundary>> as s2  {
  rectangle "==logit.io\n\n Application logging drain" <<external_system>> as logit 
  rectangle "==sentry.io\n\n Error capture\nEmails team" <<external_system>> as sentry 
}

applicant <<- ->> cloudflare : **Uses**\n//<size:12>[HTTPS]</size>//
cloudflare <<- ->> elb : **Uses**\n//<size:12>[HTTPS]</size>//
elb <<- ->> web_app : **Uses**\n//<size:12>[HTTPS]</size>//

sidekiq -RIGHT->> s3bucket : **Read consent forms to upload**\n//<size:12>[HTTPS]</size>//
web_app -LEFT->> s3bucket : **Store consent forms**\n//<size:12>[HTTPS]</size>//

web_app - ->> postgres : **Stores**\n//<size:12>[HTTPS]</size>//
web_app - ->> redis : **Queues asynch jobs**\n//<size:12>[HTTPS]</size>//
web_app - ->> sentry : **Record errors**\n//<size:12>[HTTPS]</size>//
web_app - ->> logit : **Captures app logs**\n//<size:12>[HTTPS]</size>//

sidekiq <<- ->> redis : **Processes asynch jobs**\n//<size:12>[HTTPS]</size>//
sidekiq -LEFT->> notify : **Inform applicants**\n//<size:12>[HTTPS]</size>//
notify -UP->> applicant : **Email or SMS**

notify -[hidden]D- foundry
sidekiq - ->> foundry : **POST completed applications**\n//<size:12>[HTTPS API]</size>//

prom_ex - ->> web_app : **Pulls metrics**
prom - ->> prom_ex : **Pulls metrics**
prom - ->> influx : **Metrics stored in**
grafana - ->> prom : **Consumes for display**
grafana - ->> pg : **Configuration Store**

techs <<-UP->> grafana : **View metrics and alerts**
techs - ->> sentry : **View errors**
techs - ->> logit : **View logs**

center footer  [[https://c4model.com/#CoreDiagrams C4 Container Diagram]]
@enduml

PlantUML version 1.2022.10beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>